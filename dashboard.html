<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZIMRA Offshore Tax Detection</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<style>
    /* Base Styles */
:root {
    --primary: #2c3e50;
    --secondary: #3498db;
    --accent: #e74c3c;
    --light: #ecf0f1;
    --dark: #2c3e50;
    --success: #27ae60;
    --warning: #f39c12;
    --danger: #e74c3c;
    --gray: #95a5a6;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: #f5f7fa;
    color: var(--dark);
    line-height: 1.6;
}

.container {
    width: 90%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header Styles */
.header {
    background-color: var(--primary);
    color: white;
    padding: 15px 0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 15px;
}

.logo img {
    height: 40px;
}

.logo h1 {
    font-size: 1.4rem;
    font-weight: 500;
}

.nav ul {
    display: flex;
    list-style: none;
    gap: 25px;
}

.nav a {
    color: white;
    text-decoration: none;
    font-weight: 500;
    padding: 5px 0;
    position: relative;
    transition: color 0.3s;
}

.nav a:hover {
    color: var(--secondary);
}

.nav a.active {
    color: var(--secondary);
}

.nav a.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--secondary);
    animation: underline 0.3s ease-out;
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 15px;
}

.avatar {
    width: 40px;
    height: 40px;
    background-color: var(--secondary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s;
}

.avatar:hover {
    transform: scale(1.1);
}

/* Main Content Styles */
.main-content {
    padding: 30px 0;
    min-height: calc(100vh - 120px);
}

.section {
    display: none;
}

.section.active {
    display: block;
    animation: fadeIn 0.5s ease-in;
}

h2 {
    font-size: 2rem;
    margin-bottom: 30px;
    color: var(--primary);
    position: relative;
    padding-bottom: 10px;
}

h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 3px;
    background-color: var(--secondary);
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background-color: white;
    border-radius: 8px;
    padding: 25px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    transition: transform 0.3s, box-shadow 0.3s;
    position: relative;
    overflow: hidden;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px rgba(0,0,0,0.1);
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background-color: var(--secondary);
}

.stat-icon {
    width: 50px;
    height: 50px;
    background-color: rgba(52, 152, 219, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 15px;
    color: var(--secondary);
    font-size: 1.2rem;
}

.stat-value {
    font-size: 2rem;
    font-weight: 700;
    margin: 10px 0;
    color: var(--primary);
}

.stat-change {
    font-size: 0.9rem;
}

.stat-change.positive {
    color: var(--success);
}

.stat-change.negative {
    color: var(--danger);
}

.stat-change.neutral {
    color: var(--gray);
}

/* Main Grid */
.main-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
}

.card {
    background-color: white;
    border-radius: 8px;
    padding: 25px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

.chart-card {
    min-height: 400px;
}

.chart-container {
    height: 350px;
    margin-top: 20px;
    position: relative;
}

.alert-card {
    overflow: hidden;
}

.alert-list {
    margin-top: 20px;
}

.alert-item {
    padding: 15px;
    border-left: 4px solid var(--warning);
    margin-bottom: 15px;
    background-color: #fff9e6;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: transform 0.3s;
}

.alert-item:hover {
    transform: translateX(5px);
}

.alert-item.critical {
    border-left-color: var(--danger);
    background-color: #ffebee;
}

.alert-item.resolved {
    border-left-color: var(--success);
    background-color: #e8f5e9;
}

.alert-content h4 {
    font-size: 1rem;
    margin-bottom: 5px;
    color: var(--dark);
}

.alert-content p {
    font-size: 0.85rem;
    color: var(--gray);
}

.alert-badge {
    padding: 3px 8px;
    border-radius: 20px;
    font-size: 0.7rem;
    font-weight: 600;
    color: white;
}

.badge-critical {
    background-color: var(--danger);
}

.badge-warning {
    background-color: var(--warning);
}

/* Case Management Styles */
.case-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
}

.case-card {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    transition: transform 0.3s;
    border-left: 4px solid var(--secondary);
}

.case-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px rgba(0,0,0,0.1);
}

.case-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.case-id {
    font-weight: 700;
    color: var(--primary);
}

.case-status {
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
}

.status-new {
    background-color: #d4edff;
    color: var(--secondary);
}

.status-investigation {
    background-color: #fff3cd;
    color: #856404;
}

.status-resolved {
    background-color: #d4edda;
    color: #155724;
}

.case-details {
    margin-bottom: 15px;
}

.case-detail {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 0.9rem;
}

.case-label {
    color: var(--gray);
    font-weight: 500;
}

.case-value {
    font-weight: 600;
}

.case-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
}

.btn {
    padding: 8px 15px;
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    border: none;
    transition: all 0.3s;
}

.btn-primary {
    background-color: var(--secondary);
    color: white;
}

.btn-primary:hover {
    background-color: #2980b9;
}

.btn-outline {
    background-color: transparent;
    border: 1px solid var(--secondary);
    color: var(--secondary);
}

.btn-outline:hover {
    background-color: rgba(52, 152, 219, 0.1);
}

/* Analytics Styles */
.analytics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.analytics-card {
    grid-column: span 1;
}

.analytics-card.wide {
    grid-column: span 2;
}

/* International Cooperation Styles */
.treaty-card {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

.treaty-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.treaty-name {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary);
}

.treaty-status {
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
}

.status-active {
    background-color: #d4edda;
    color: #155724;
}

.status-pending {
    background-color: #fff3cd;
    color: #856404;
}

.treaty-details {
    margin-bottom: 15px;
    font-size: 0.9rem;
}

.treaty-countries {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
}

.country-badge {
    padding: 3px 10px;
    background-color: #f8f9fa;
    border-radius: 20px;
    font-size: 0.8rem;
    color: var(--dark);
}

/* Best Practices Styles */
.practice-card {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

.practice-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.practice-icon {
    width: 40px;
    height: 40px;
    background-color: rgba(52, 152, 219, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
    color: var(--secondary);
}

.practice-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary);
}

.practice-content {
    font-size: 0.95rem;
    line-height: 1.6;
}

.practice-stats {
    display: flex;
    gap: 15px;
    margin-top: 15px;
    font-size: 0.85rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 5px;
    color: var(--gray);
}

/* Footer Styles */
.footer {
    background-color: var(--primary);
    color: white;
    padding: 20px 0;
    text-align: center;
}

.footer .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.footer-links {
    display: flex;
    gap: 20px;
}

.footer-links a {
    color: white;
    text-decoration: none;
    transition: color 0.3s;
}

.footer-links a:hover {
    color: var(--secondary);
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slide-up {
    from { 
        opacity: 0;
        transform: translateY(20px);
    }
    to { 
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes underline {
    from { width: 0; }
    to { width: 100%; }
}

.fade-in {
    animation: fadeIn 0.6s ease-in forwards;
}

.slide-up {
    animation: slide-up 0.5s ease-out forwards;
}

/* Delays for staggered animations */
.stat-card:nth-child(1) { animation-delay: 0.1s; }
.stat-card:nth-child(2) { animation-delay: 0.2s; }
.stat-card:nth-child(3) { animation-delay: 0.3s; }
.stat-card:nth-child(4) { animation-delay: 0.4s; }

/* Simulation Styles */
.simulation-controls {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 20px;
    margin-bottom: 30px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
}

.form-control {
    width: 100%;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: inherit;
}

.scenario-options {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 20px;
}

.scenario-card {
    padding: 15px;
    border: 1px solid #eee;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
}

.scenario-card:hover {
    border-color: var(--secondary);
    background-color: rgba(52, 152, 219, 0.05);
}

.scenario-card.selected {
    border-color: var(--secondary);
    background-color: rgba(52, 152, 219, 0.1);
}

.scenario-meta {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
    font-size: 0.85rem;
}

.difficulty {
    padding: 2px 8px;
    border-radius: 10px;
    font-weight: 500;
}

.difficulty.easy {
    background-color: rgba(46, 204, 113, 0.2);
    color: #27ae60;
}

.difficulty.medium {
    background-color: rgba(241, 196, 15, 0.2);
    color: #f39c12;
}

.difficulty.hard {
    background-color: rgba(231, 76, 60, 0.2);
    color: #e74c3c;
}

.simulation-results {
    display: none; /* Initially hidden */
}

.transaction-list {
    max-height: 400px;
    overflow-y: auto;
}

.transaction-item {
    padding: 12px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
}

.transaction-item:last-child {
    border-bottom: none;
}

.transaction-amount {
    font-weight: 600;
}

.transaction-detected {
    color: var(--success);
    font-weight: 500;
}

.transaction-undetected {
    color: var(--danger);
    font-weight: 500;
}
.file-upload {
    margin-right: 15px;
}

.file-upload button {
    padding: 8px 15px;
    background-color: #27ae60;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s;
}

.file-upload button:hover {
    background-color: #219653;
}

#document-analysis-status {
    padding: 15px;
    background-color: #f8f9fa;
    border-left: 4px solid #3498db;
    margin-bottom: 20px;
    border-radius: 4px;
}

.alert {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Financial Statement Styles */
.financial-statement {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-left: 4px solid var(--secondary);
}

.financial-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.financial-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--primary);
}

.financial-meta {
    font-size: 0.85rem;
    color: var(--gray);
}

.financial-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
}

.financial-table th, 
.financial-table td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #eee;
}

.financial-table th {
    font-weight: 600;
    color: var(--primary);
    background-color: #f8f9fa;
}

.financial-table tr:last-child td {
    border-bottom: none;
}

.financial-table .highlight {
    font-weight: 700;
    color: var(--danger);
}

.financial-table .total {
    font-weight: 700;
    color: var(--primary);
}

.financial-summary {
    margin-top: 15px;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 4px;
    border-left: 4px solid var(--danger);
}

.summary-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.summary-label {
    font-weight: 500;
    color: var(--dark);
}

.summary-value {
    font-weight: 600;
}

.summary-value.evaded {
    color: var(--danger);
}

.summary-value.tax {
    color: var(--success);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .simulation-controls {
        grid-template-columns: 1fr;
    }
    
    .scenario-options {
        grid-template-columns: 1fr;
    }
}

/* Responsive Styles */
@media (max-width: 1024px) {
    .main-grid, .analytics-grid {
        grid-template-columns: 1fr;
    }
    
    .header .container {
        flex-direction: column;
        gap: 15px;
    }
    
    .nav ul {
        gap: 15px;
    }
    
    .analytics-card.wide {
        grid-column: span 1;
    }
}

@media (max-width: 768px) {
    .stats-grid {
        grid-template-columns: 1fr 1fr;
    }
    
    .nav ul {
        flex-wrap: wrap;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .footer .container {
        flex-direction: column;
        gap: 10px;
    }
}
</style>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="/image.png" alt="ZIMRA Logo">
                <h1>Offshore Tax Detection System</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="#dashboard" class="active">Dashboard</a></li>
                    <li><a href="#cases">Case Management</a></li>
                    <li><a href="#analytics">Analytics</a></li>
                    <li><a href="#international">International</a></li>
                    
                </ul>
            </nav>
            <div class="user-menu">
                <span>Welcome</span>
                <div class="avatar">
                    <i class="fas fa-user-shield"></i>
                </div>
            </div>
        </div>
        <div class="user-menu">
            <div class="file-upload">
                <input type="file" id="document-upload" accept=".pdf,.doc,.docx,.xls,.xlsx" style="display: none;">
                <button class="btn btn-primary" onclick="document.getElementById('document-upload').click()">
                    <i class="fas fa-upload"></i> Upload Document
                </button>
            </div>
            <span>Welcome</span>
            <div class="avatar">
                <i class="fas fa-user-shield"></i>
            </div>
        </div>
    </header>

    <main class="main-content">
        <section id="dashboard" class="section active">
            <div class="container">
                <h2>Detection Dashboard</h2>
                
                <!-- Add document analysis status -->
                <div id="document-analysis-status" class="alert" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i> Analyzing document for tax evasion patterns...
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-search-dollar"></i>
                        </div>
                        <h3>Potential Cases</h3>
                        <p class="stat-value" id="potential-cases">0</p>
                        <p class="stat-change" id="cases-change">Loading...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <h3>Amount Evaded</h3>
                        <p class="stat-value" id="amount-evaded">$0</p>
                        <p class="stat-change" id="amount-change">Loading...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Detection Confidence</h3>
                        <p class="stat-value" id="detection-confidence">0%</p>
                        <p class="stat-change" id="confidence-change">Loading...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-flag"></i>
                        </div>
                        <h3>Red Flags</h3>
                        <p class="stat-value" id="red-flags">0</p>
                        <p class="stat-change" id="flags-change">Loading...</p>
                    </div>
                </div>
                
                <div class="main-grid">
                    <div class="card chart-card slide-up">
                        <h3>Document Analysis Results</h3>
                        <div id="financial-statement-container">
                            <!-- Financial statement will be inserted here -->
                        </div>
                        <div class="chart-container">
                            <canvas id="document-analysis-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card alert-card slide-up">
                        <h3>Detected Anomalies</h3>
                        <div class="alert-list" id="detected-anomalies">
                            <p>No document analyzed yet. Upload a document to begin detection.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="cases" class="section">
            <div class="container">
                <h2>Case Management</h2>
                <div class="stats-grid">
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-folder-open"></i>
                        </div>
                        <h3>Active Cases</h3>
                        <p class="stat-value" id="active-cases">42</p>
                        <p class="stat-change positive">+5 from last week</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-hourglass-half"></i>
                        </div>
                        <h3>Pending Review</h3>
                        <p class="stat-value" id="pending-cases">18</p>
                        <p class="stat-change negative">-3 from last week</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h3>Resolved Cases</h3>
                        <p class="stat-value" id="resolved-cases">27</p>
                        <p class="stat-change positive">+4 this month</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <h3>Legal Actions</h3>
                        <p class="stat-value" id="legal-actions">9</p>
                        <p class="stat-change neutral">No change</p>
                    </div>
                </div>
                
                <div class="case-grid" id="case-grid">
                    <!-- Case cards will be populated by JS -->
                </div>
            </div>
        </section>

        <section id="analytics" class="section">
            <div class="container">
                <h2>Analytics & Detection Strategies</h2>
                <div class="analytics-grid">
                    <div class="card analytics-card">
                        <h3>Detection Methods Effectiveness</h3>
                        <div class="chart-container">
                            <canvas id="methods-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card analytics-card">
                        <h3>Offshore Jurisdictions</h3>
                        <div class="chart-container">
                            <canvas id="jurisdictions-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card analytics-card wide">
                        <h3>Technology Adoption Impact</h3>
                        <div class="chart-container">
                            <canvas id="technology-chart"></canvas>
                        </div>
                        <div class="practice-content">
                            <p>Advanced technologies like AI and blockchain have shown a <strong>42% higher effectiveness</strong> in detecting offshore tax evasion compared to traditional methods. Authorities using predictive analytics and AI-driven data monitoring had a <strong>30% higher success rate</strong> in detecting hidden offshore accounts.</p>
                        </div>
                    </div>
                    
                    <div class="card analytics-card">
                        <h3>International Cooperation Impact</h3>
                        <div class="chart-container">
                            <canvas id="cooperation-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card analytics-card">
                        <h3>Personnel Training Impact</h3>
                        <div class="chart-container">
                            <canvas id="training-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="international" class="section">
            <div class="container">
                <h2>International Cooperation</h2>
                <div class="stats-grid">
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h3>Active Treaties</h3>
                        <p class="stat-value" id="active-treaties">Loading...</p>
                        <p class="stat-change" id="treaties-change">Fetching data...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <h3>Global Cases</h3>
                        <p class="stat-value" id="global-cases">Loading...</p>
                        <p class="stat-change" id="global-change">Fetching data...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-globe-europe"></i>
                        </div>
                        <h3>Top Jurisdiction</h3>
                        <p class="stat-value" id="top-jurisdiction">Loading...</p>
                        <p class="stat-change" id="jurisdiction-change">Fetching data...</p>
                    </div>
                    
                    <div class="stat-card fade-in">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3>Global Recovered</h3>
                        <p class="stat-value" id="global-recovered">Loading...</p>
                        <p class="stat-change" id="recovered-change">Fetching data...</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Recent Global Tax Evasion Cases</h3>
                    <div id="global-cases-list">
                        <p>Loading international case data...</p>
                    </div>
                </div>
            </div>
        </section>
        
                
                <!-- Simulation Results -->
                <div class="simulation-results">
                    <h3>Simulation Results</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-user-secret"></i>
                            </div>
                            <h3>Evasion Attempts</h3>
                            <p class="stat-value" id="attempts-count">0</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3>Detected</h3>
                            <p class="stat-value" id="detected-count">0</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <h3>Detection Rate</h3>
                            <p class="stat-value" id="detection-rate-sim">0%</p>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-money-bill-wave"></i>
                            </div>
                            <h3>Amount Evaded</h3>
                            <p class="stat-value" id="amount-evaded">$0</p>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Detection Timeline</h3>
                        <div class="chart-container">
                            <canvas id="simulation-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Transaction Details</h3>
                        <div class="transaction-list" id="transaction-list">
                            <p>No simulation data yet. Run a simulation to see results.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>ZIMRA Offshore Tax Evasion Detection System &copy; 2023</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Use</a>
                <a href="#">Help Center</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Enhanced document analysis functionality
document.getElementById('document-upload').addEventListener('change', function(e) {
    const file = e.target.files[0];
    if (!file) return;
    
    // Show analysis status
    const statusElement = document.getElementById('document-analysis-status');
    statusElement.style.display = 'block';
    statusElement.innerHTML = `<i class="fas fa-spinner fa-spin"></i> Analyzing ${file.name} for tax evasion patterns...`;
    
    // Simulate document processing (in a real system, this would call an API)
    setTimeout(() => {
        analyzeDocument(file);
    }, 2000);
});

function analyzeDocument(file) {
    const statusElement = document.getElementById('document-analysis-status');
    
    // Simulate finding patterns in the document
    const evasionAmount = Math.random() * 1000000 + 50000;
    const confidence = Math.min(100, Math.floor(Math.random() * 30) + 70);
    const redFlags = Math.floor(Math.random() * 15) + 3;
    
    // Update dashboard stats
    document.getElementById('potential-cases').textContent = '1';
    document.getElementById('amount-evaded').textContent = `$${evasionAmount.toLocaleString(undefined, {maximumFractionDigits: 0})}`;
    document.getElementById('detection-confidence').textContent = `${confidence}%`;
    document.getElementById('red-flags').textContent = redFlags;
    
    // Update trend indicators
    document.getElementById('cases-change').textContent = '+1 new case';
    document.getElementById('amount-change').textContent = `+$${Math.floor(evasionAmount / 1000)}K detected`;
    document.getElementById('confidence-change').textContent = `${confidence >= 85 ? 'High' : 'Medium'} confidence`;
    document.getElementById('flags-change').textContent = `${redFlags} anomalies found`;
    
    // Generate anomalies
    const anomalies = [
        "Unreported offshore account detected",
        "Mismatch in declared vs actual income",
        "Suspicious transfer patterns found",
        "Potential shell company involvement",
        "Undisclosed foreign assets identified"
    ].slice(0, redFlags);
    
    // Display anomalies
    const anomaliesList = document.getElementById('detected-anomalies');
    anomaliesList.innerHTML = anomalies.map(anomaly => `
        <div class="alert-item critical">
            <div class="alert-content">
                <h4>${anomaly}</h4>
                <p>Confidence: ${Math.floor(Math.random() * 20) + 80}% • ${file.name}</p>
            </div>
            <span class="alert-badge badge-critical">Critical</span>
        </div>
    `).join('');
    
    // Update analysis status
    statusElement.innerHTML = `<i class="fas fa-check-circle" style="color: #27ae60;"></i> Analysis complete. ${redFlags} red flags detected with ${confidence}% confidence.`;
    
    // Generate and display financial statement
    displayFinancialStatement(file.name, evasionAmount);
    
    // Update document analysis chart
    updateDocumentAnalysisChart(evasionAmount, confidence, redFlags);
}

function displayFinancialStatement(filename, evasionAmount) {
    const container = document.getElementById('financial-statement-container');
    
    // Generate random financial data
    const declaredIncome = Math.round(evasionAmount * (1 + Math.random() * 2));
    const actualIncome = Math.round(declaredIncome + evasionAmount);
    const taxRate = 0.25; // 25% tax rate for example
    const declaredTax = Math.round(declaredIncome * taxRate);
    const actualTax = Math.round(actualIncome * taxRate);
    const taxEvaded = actualTax - declaredTax;
    
    // Create financial statement HTML
    const financialStatement = `
        <div class="financial-statement">
            <div class="financial-header">
                <h3 class="financial-title">Extracted Financial Statement</h3>
                <span class="financial-meta">From: ${filename}</span>
            </div>
            
            <table class="financial-table">
                <thead>
                    <tr>
                        <th>Item</th>
                        <th>Declared</th>
                        <th>Actual</th>
                        <th>Difference</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Gross Income</td>
                        <td>$${declaredIncome.toLocaleString()}</td>
                        <td>$${actualIncome.toLocaleString()}</td>
                        <td class="highlight">+$${evasionAmount.toLocaleString()}</td>
                    </tr>
                    <tr>
                        <td>Taxable Income</td>
                        <td>$${declaredIncome.toLocaleString()}</td>
                        <td>$${actualIncome.toLocaleString()}</td>
                        <td class="highlight">+$${evasionAmount.toLocaleString()}</td>
                    </tr>
                    <tr>
                        <td>Tax Liability (25%)</td>
                        <td>$${declaredTax.toLocaleString()}</td>
                        <td>$${actualTax.toLocaleString()}</td>
                        <td class="highlight">+$${taxEvaded.toLocaleString()}</td>
                    </tr>
                    <tr class="total">
                        <td colspan="3">Total Tax Evaded</td>
                        <td class="highlight">$${taxEvaded.toLocaleString()}</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="financial-summary">
                <h4>Tax Evasion Summary</h4>
                <div class="summary-item">
                    <span class="summary-label">Amount Evaded:</span>
                    <span class="summary-value evaded">$${evasionAmount.toLocaleString()}</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Tax Owed:</span>
                    <span class="summary-value tax">$${taxEvaded.toLocaleString()}</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Detection Confidence:</span>
                    <span class="summary-value">${Math.min(100, Math.floor(Math.random() * 30) + 70)}%</span>
                </div>
            </div>
        </div>
    `;
    
    container.innerHTML = financialStatement;
}

function updateDocumentAnalysisChart(amount, confidence, flags) {
    const ctx = document.getElementById('document-analysis-chart');
    if (!ctx) return;
    
    // Destroy previous chart if exists
    if (window.documentAnalysisChart) {
        window.documentAnalysisChart.destroy();
    }
    
    window.documentAnalysisChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: [
                'Amount Evaded',
                'Detection Confidence', 
                'Red Flags',
                'Pattern Complexity',
                'Document Anomalies',
                'Risk Score'
            ],
            datasets: [{
                label: 'Document Analysis',
                data: [
                    Math.min(100, amount / 20000),
                    confidence,
                    flags * 10,
                    30 + Math.random() * 50,
                    20 + Math.random() * 60,
                    40 + Math.random() * 50
                ],
                backgroundColor: 'rgba(231, 76, 60, 0.2)',
                borderColor: 'rgba(231, 76, 60, 1)',
                pointBackgroundColor: 'rgba(231, 76, 60, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(231, 76, 60, 1)'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: { display: true },
                    suggestedMin: 0,
                    suggestedMax: 100
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Tax Evasion Risk Profile'
                }
            }
        }
    });
}

// Initialize analytics charts when section is loaded
function initAnalyticsCharts() {
    // Methods Effectiveness Chart
    const methodsCtx = document.getElementById('methods-chart');
    if (methodsCtx) {
        new Chart(methodsCtx, {
            type: 'bar',
            data: {
                labels: ['AI Pattern Detection', 'Manual Review', 'Data Cross-Check', 'Whistleblower Tips', 'Transaction Monitoring'],
                datasets: [{
                    label: 'Detection Rate (%)',
                    data: [92, 65, 78, 55, 82],
                    backgroundColor: [
                        'rgba(52, 152, 219, 0.7)',
                        'rgba(155, 89, 182, 0.7)',
                        'rgba(46, 204, 113, 0.7)',
                        'rgba(241, 196, 15, 0.7)',
                        'rgba(231, 76, 60, 0.7)'
                    ],
                    borderColor: [
                        'rgba(52, 152, 219, 1)',
                        'rgba(155, 89, 182, 1)',
                        'rgba(46, 204, 113, 1)',
                        'rgba(241, 196, 15, 1)',
                        'rgba(231, 76, 60, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Effectiveness of Different Detection Methods'
                    }
                }
            }
        });
    }

    // Jurisdictions Chart
    const jurisdictionsCtx = document.getElementById('jurisdictions-chart');
    if (jurisdictionsCtx) {
        new Chart(jurisdictionsCtx, {
            type: 'doughnut',
            data: {
                labels: ['Cayman Islands', 'Switzerland', 'Panama', 'Singapore', 'Luxembourg', 'Others'],
                datasets: [{
                    data: [35, 25, 15, 10, 8, 7],
                    backgroundColor: [
                        'rgba(231, 76, 60, 0.7)',
                        'rgba(52, 152, 219, 0.7)',
                        'rgba(46, 204, 113, 0.7)',
                        'rgba(241, 196, 15, 0.7)',
                        'rgba(155, 89, 182, 0.7)',
                        'rgba(52, 73, 94, 0.7)'
                    ],
                    borderColor: [
                        'rgba(231, 76, 60, 1)',
                        'rgba(52, 152, 219, 1)',
                        'rgba(46, 204, 113, 1)',
                        'rgba(241, 196, 15, 1)',
                        'rgba(155, 89, 182, 1)',
                        'rgba(52, 73, 94, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Top Offshore Jurisdictions'
                    },
                    legend: {
                        position: 'right'
                    }
                }
            }
        });
    }

    // Technology Chart
    const technologyCtx = document.getElementById('technology-chart');
    if (technologyCtx) {
        new Chart(technologyCtx, {
            type: 'line',
            data: {
                labels: ['2018', '2019', '2020', '2021', '2022', '2023'],
                datasets: [
                    {
                        label: 'Traditional Methods',
                        data: [65, 63, 60, 58, 55, 52],
                        borderColor: 'rgba(231, 76, 60, 1)',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        tension: 0.3,
                        fill: true
                    },
                    {
                        label: 'AI & Advanced Tech',
                        data: [68, 72, 78, 82, 87, 92],
                        borderColor: 'rgba(46, 204, 113, 1)',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        tension: 0.3,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Detection Effectiveness Over Time'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        min: 50,
                        max: 100
                    }
                }
            }
        });
    }

    // Cooperation Chart
    const cooperationCtx = document.getElementById('cooperation-chart');
    if (cooperationCtx) {
        new Chart(cooperationCtx, {
            type: 'bar',
            data: {
                labels: ['No Cooperation', 'Basic Info Sharing', 'Joint Investigations', 'Automatic Data Exchange'],
                datasets: [{
                    label: 'Case Resolution Rate (%)',
                    data: [25, 45, 68, 82],
                    backgroundColor: 'rgba(52, 152, 219, 0.7)',
                    borderColor: 'rgba(52, 152, 219, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Impact of International Cooperation'
                    }
                }
            }
        });
    }

    // Training Chart
    const trainingCtx = document.getElementById('training-chart');
    if (trainingCtx) {
        new Chart(trainingCtx, {
            type: 'radar',
            data: {
                labels: ['Detection Rate', 'Case Resolution', 'Amount Recovered', 'Investigation Speed', 'Legal Success'],
                datasets: [
                    {
                        label: 'Before Training',
                        data: [45, 50, 40, 55, 60],
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        pointBackgroundColor: 'rgba(231, 76, 60, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(231, 76, 60, 1)'
                    },
                    {
                        label: 'After Training',
                        data: [75, 80, 85, 70, 90],
                        backgroundColor: 'rgba(46, 204, 113, 0.2)',
                        borderColor: 'rgba(46, 204, 113, 1)',
                        pointBackgroundColor: 'rgba(46, 204, 113, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(46, 204, 113, 1)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { display: true },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Impact of Specialized Training'
                    }
                }
            }
        });
    }
}

// Fetch international data
function fetchInternationalData() {
    setTimeout(() => {
        document.getElementById('active-treaties').textContent = '14';
        document.getElementById('treaties-change').textContent = '+2 this year';
        document.getElementById('treaties-change').className = 'stat-change positive';
    }, 1000);
    
    setTimeout(() => {
        document.getElementById('global-cases').textContent = '1,247';
        document.getElementById('global-change').textContent = '+12% YoY';
        document.getElementById('global-change').className = 'stat-change positive';
    }, 1200);
    
    setTimeout(() => {
        document.getElementById('top-jurisdiction').textContent = 'Cayman Islands';
        document.getElementById('jurisdiction-change').textContent = '23% of cases';
        document.getElementById('jurisdiction-change').className = 'stat-change neutral';
    }, 1400);
    
    setTimeout(() => {
        document.getElementById('global-recovered').textContent = '$4.2B';
        document.getElementById('recovered-change').textContent = '+$1.1B this year';
        document.getElementById('recovered-change').className = 'stat-change positive';
    }, 1600);
    
    setTimeout(() => {
        const globalCases = [
            { country: "United States", case: "Tech CEO offshore accounts", amount: "$120M", status: "ongoing" },
            { country: "Germany", case: "Auto executive tax fraud", amount: "$45M", status: "convicted" },
            { country: "South Africa", case: "Mining magnate evasion", amount: "$28M", status: "investigation" },
            { country: "Australia", case: "Property developer scheme", amount: "$67M", status: "recovered" }
        ];
        
        const casesList = document.getElementById('global-cases-list');
        casesList.innerHTML = globalCases.map(caseItem => `
            <div class="alert-item ${caseItem.status === 'convicted' ? 'resolved' : caseItem.status === 'recovered' ? 'resolved' : 'critical'}">
                <div class="alert-content">
                    <h4>${caseItem.country}: ${caseItem.case}</h4>
                    <p>Amount: ${caseItem.amount} • Status: ${caseItem.status}</p>
                </div>
                <span class="alert-badge ${caseItem.status === 'convicted' ? 'badge-warning' : caseItem.status === 'recovered' ? 'badge-warning' : 'badge-critical'}">
                    ${caseItem.status === 'convicted' ? 'Convicted' : caseItem.status === 'recovered' ? 'Recovered' : 'Ongoing'}
                </span>
            </div>
        `).join('');
    }, 1800);
}

// Initialize international data when section is loaded
document.addEventListener('DOMContentLoaded', function() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                if (entry.target.id === 'international') {
                    fetchInternationalData();
                } else if (entry.target.id === 'analytics') {
                    initAnalyticsCharts();
                }
                observer.unobserve(entry.target);
            }
        });
    }, {threshold: 0.1});
    
    const internationalSection = document.getElementById('international');
    const analyticsSection = document.getElementById('analytics');
    
    if (internationalSection) {
        observer.observe(internationalSection);
    }
    if (analyticsSection) {
        observer.observe(analyticsSection);
    }
});

// Set up navigation between sections
function setupNavigation() {
    const navLinks = document.querySelectorAll('.nav a');
    const sections = document.querySelectorAll('.section');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();

            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            if (!targetSection) return;

            navLinks.forEach(navLink => navLink.classList.remove('active'));
            this.classList.add('active');

            sections.forEach(section => {
                section.classList.remove('active');
            });

            targetSection.classList.add('active');
        });
    });
}

// Call setupNavigation on DOMContentLoaded
document.addEventListener('DOMContentLoaded', setupNavigation);
    </script>
</body>
</html>